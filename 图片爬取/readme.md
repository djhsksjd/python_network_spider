# 图片爬取工具使用说明

## 工具简介
本工具用于从Pexels平台爬取指定关键词的图片，支持自定义下载页数和每页图片数量，具备完善的错误处理和进度提示功能，适合批量获取高清图片资源。

## 环境准备

### 依赖安装
确保已安装以下Python库：
```bash
pip install requests python-dotenv
```

### 环境配置
1. 创建`.env`文件，配置图片保存路径：
   ```env
   imagedownloadpath=/path/to/your/image/folder  # 替换为实际保存目录
   ```
2. 确保保存目录具有读写权限，工具会自动创建不存在的目录

## 爬取流程

### 1. 运行程序
执行主程序文件：
```bash
python image_downloader.py
```

### 2. 输入参数
程序运行后，根据提示输入以下信息：
- 搜索关键词（例如："nature"、"city"、"cat"等）
- 要下载的页数（正整数，例如：5）
- 每页图片数量（1-80之间的整数，例如：20）

### 3. 爬取过程
工具会按以下步骤执行操作：
1. 验证输入参数和保存路径的有效性
2. 按页码循环请求Pexels API获取图片列表
3. 逐一下载每页的图片并保存到本地目录
4. 实时显示下载进度和结果（成功/失败状态）
5. 每完成一页下载，显示该页的下载统计

### 4. 结果查看
下载完成后，可在配置的`imagedownloadpath`目录中查看图片：
- 图片文件名为`[图片描述]_[图片ID].jpg`
- 描述中特殊字符会被自动处理，避免保存错误

## 注意事项
1. 请求频率控制：工具已内置请求间隔（页面间1秒，图片间0.5秒），请勿随意修改，以免触发API限制
2. 网络稳定性：确保网络连接稳定，工具会自动处理临时网络错误并提示
3. 版权说明：下载的图片需遵守Pexels的使用条款，商用请获取相应授权
4. 错误处理：若出现下载失败，程序会继续执行后续任务，并在控制台显示具体错误原因

## 常见问题
- **Q: 提示"API请求失败"怎么办？**  
  A: 可能是API密钥过期或网络问题，请检查密钥有效性和网络连接

- **Q: 图片保存失败如何解决？**  
  A: 检查保存目录是否有写入权限，或路径中是否包含特殊字符

如需扩展功能或修改配置，请参考代码中的注释进行二次开发。

# 本章学习内容：
1. 了解Pexels API
2. postcat接口测试工具使用
3. 掌握Python requests库的使用
4. 熟悉JSON数据解析
5. 实现批量图片下载
6. 处理异常情况和错误提示
